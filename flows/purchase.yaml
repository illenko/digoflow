id: purchase-flow
name: Purchase Flow

entrypoint:
    type: http-handler
    config:
      method: POST
      path: /purchase/:orderId

input:
  path-variables:
    - name: orderId
      type: string
  query-parameters:
    - name: merchantId
      type: string
  headers:
    - name: x-api-key
      type: string
  body: 
    type: json
    fields:
      - name: id
        type: string
      - name: description
        type: string
      - name: resultUrl
        type: string
      - name: amount.value
        type: float
      - name: amount.currency
        type: string
      - name: card
        type: string
      - name: payer.id
        type: string
      - name: payer.name.firstName
        type: string
      - name: payer.name.lastName
        type: string